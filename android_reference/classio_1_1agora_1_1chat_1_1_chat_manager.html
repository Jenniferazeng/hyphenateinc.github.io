<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9"/>
<title>agora_chat_SDK: io.agora.chat.ChatManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">agora_chat_SDK
   &#160;<span id="projectnumber">3.8.2</span>
   </div>
   <div id="projectbrief">agorajavachatSDK</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>io</b></li><li class="navelem"><b>agora</b></li><li class="navelem"><b>chat</b></li><li class="navelem"><a class="el" href="classio_1_1agora_1_1chat_1_1_chat_manager.html">ChatManager</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="classio_1_1agora_1_1chat_1_1_chat_manager-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">io.agora.chat.ChatManager Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aed75ce0a590423ac18a94e1d339e97f4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classio_1_1agora_1_1chat_1_1_chat_manager.html#aed75ce0a590423ac18a94e1d339e97f4">sendMessage</a> (final <a class="el" href="classio_1_1agora_1_1chat_1_1_chat_message.html">ChatMessage</a> msg)</td></tr>
<tr class="separator:aed75ce0a590423ac18a94e1d339e97f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48c11104aabf75ff5dfc6e65d29689d3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classio_1_1agora_1_1chat_1_1_chat_manager.html#a48c11104aabf75ff5dfc6e65d29689d3">ackConversationRead</a> (String conversationId)  throws ChatException </td></tr>
<tr class="separator:a48c11104aabf75ff5dfc6e65d29689d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3acc4e2e553d7fcf77bbe921c6b8c93"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classio_1_1agora_1_1chat_1_1_chat_manager.html#ae3acc4e2e553d7fcf77bbe921c6b8c93">ackMessageRead</a> (String to, String messageId)  throws ChatException </td></tr>
<tr class="separator:ae3acc4e2e553d7fcf77bbe921c6b8c93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3f332b14444a8f0789562a5cae984b2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classio_1_1agora_1_1chat_1_1_chat_manager.html#ae3f332b14444a8f0789562a5cae984b2">ackGroupMessageRead</a> (String to, String messageId, String ext)  throws ChatException </td></tr>
<tr class="separator:ae3f332b14444a8f0789562a5cae984b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a766fec8e12f97cd1db6e472db1959e4f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classio_1_1agora_1_1chat_1_1_chat_manager.html#a766fec8e12f97cd1db6e472db1959e4f">recallMessage</a> (<a class="el" href="classio_1_1agora_1_1chat_1_1_chat_message.html">ChatMessage</a> message)  throws ChatException </td></tr>
<tr class="separator:a766fec8e12f97cd1db6e472db1959e4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c35ded4ac29e993c6a77351d1751b04"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classio_1_1agora_1_1chat_1_1_chat_manager.html#a1c35ded4ac29e993c6a77351d1751b04">aysncRecallMessage</a> (final <a class="el" href="classio_1_1agora_1_1chat_1_1_chat_message.html">ChatMessage</a> message, final <a class="el" href="interfaceio_1_1agora_1_1_call_back.html">CallBack</a> callback)</td></tr>
<tr class="separator:a1c35ded4ac29e993c6a77351d1751b04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96eaef53e8df62a900baf712cc5f4fbc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classio_1_1agora_1_1chat_1_1_chat_message.html">ChatMessage</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classio_1_1agora_1_1chat_1_1_chat_manager.html#a96eaef53e8df62a900baf712cc5f4fbc">getMessage</a> (String messageId)</td></tr>
<tr class="separator:a96eaef53e8df62a900baf712cc5f4fbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1dea229f1bc9e9d605a64228cc47a4e7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classio_1_1agora_1_1chat_1_1_conversation.html">Conversation</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classio_1_1agora_1_1chat_1_1_chat_manager.html#a1dea229f1bc9e9d605a64228cc47a4e7">getConversation</a> (String id)</td></tr>
<tr class="separator:a1dea229f1bc9e9d605a64228cc47a4e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37f6e25066c2645597d576920d24aa8a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classio_1_1agora_1_1chat_1_1_conversation.html">Conversation</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classio_1_1agora_1_1chat_1_1_chat_manager.html#a37f6e25066c2645597d576920d24aa8a">getConversation</a> (String id, <a class="el" href="enumio_1_1agora_1_1chat_1_1_conversation_1_1_conversation_type.html">ConversationType</a> type)</td></tr>
<tr class="separator:a37f6e25066c2645597d576920d24aa8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a1ce1ed2c1fdf3eec13cc462c282191"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classio_1_1agora_1_1chat_1_1_conversation.html">Conversation</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classio_1_1agora_1_1chat_1_1_chat_manager.html#a4a1ce1ed2c1fdf3eec13cc462c282191">getConversation</a> (String username, <a class="el" href="enumio_1_1agora_1_1chat_1_1_conversation_1_1_conversation_type.html">ConversationType</a> type, boolean createIfNotExists)</td></tr>
<tr class="separator:a4a1ce1ed2c1fdf3eec13cc462c282191"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad13acd1db0358917450d1c5efd4806b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classio_1_1agora_1_1chat_1_1_chat_manager.html#aad13acd1db0358917450d1c5efd4806b">markAllConversationsAsRead</a> ()</td></tr>
<tr class="separator:aad13acd1db0358917450d1c5efd4806b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1036897f3c6c302d69ab70cd6106df0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classio_1_1agora_1_1chat_1_1_chat_manager.html#af1036897f3c6c302d69ab70cd6106df0">getUnreadMsgsCount</a> ()</td></tr>
<tr class="separator:af1036897f3c6c302d69ab70cd6106df0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1ba2602185cc6b1255eb7bc40882ee7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classio_1_1agora_1_1chat_1_1_chat_manager.html#af1ba2602185cc6b1255eb7bc40882ee7">getUnreadMessageCount</a> ()</td></tr>
<tr class="separator:af1ba2602185cc6b1255eb7bc40882ee7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64ef8b0230f970a596feb849221b8905"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classio_1_1agora_1_1chat_1_1_chat_manager.html#a64ef8b0230f970a596feb849221b8905">saveMessage</a> (<a class="el" href="classio_1_1agora_1_1chat_1_1_chat_message.html">ChatMessage</a> message)</td></tr>
<tr class="separator:a64ef8b0230f970a596feb849221b8905"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8057434f0c818eec2afc5177beff9db"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classio_1_1agora_1_1chat_1_1_chat_manager.html#af8057434f0c818eec2afc5177beff9db">updateMessage</a> (<a class="el" href="classio_1_1agora_1_1chat_1_1_chat_message.html">ChatMessage</a> message)</td></tr>
<tr class="separator:af8057434f0c818eec2afc5177beff9db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5298f55319dd769b69623c111cc8dcb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classio_1_1agora_1_1chat_1_1_chat_manager.html#af5298f55319dd769b69623c111cc8dcb">downloadAttachment</a> (final <a class="el" href="classio_1_1agora_1_1chat_1_1_chat_message.html">ChatMessage</a> msg)</td></tr>
<tr class="separator:af5298f55319dd769b69623c111cc8dcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdc79b8af968ba4f4a00d326746b0013"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classio_1_1agora_1_1chat_1_1_chat_manager.html#abdc79b8af968ba4f4a00d326746b0013">downloadThumbnail</a> (final <a class="el" href="classio_1_1agora_1_1chat_1_1_chat_message.html">ChatMessage</a> msg)</td></tr>
<tr class="separator:abdc79b8af968ba4f4a00d326746b0013"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf8f64a7885eb3ff1c840f2aba9056c3"><td class="memItemLeft" align="right" valign="top">synchronized void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classio_1_1agora_1_1chat_1_1_chat_manager.html#adf8f64a7885eb3ff1c840f2aba9056c3">importMessages</a> (List&lt; <a class="el" href="classio_1_1agora_1_1chat_1_1_chat_message.html">ChatMessage</a> &gt; msgs)</td></tr>
<tr class="separator:adf8f64a7885eb3ff1c840f2aba9056c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cb78d06a4ac90f3e1eb00df942d79f4"><td class="memItemLeft" align="right" valign="top">List&lt; <a class="el" href="classio_1_1agora_1_1chat_1_1_conversation.html">Conversation</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classio_1_1agora_1_1chat_1_1_chat_manager.html#a1cb78d06a4ac90f3e1eb00df942d79f4">getConversationsByType</a> (<a class="el" href="enumio_1_1agora_1_1chat_1_1_conversation_1_1_conversation_type.html">ConversationType</a> type)</td></tr>
<tr class="separator:a1cb78d06a4ac90f3e1eb00df942d79f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f369cf5337f3f08d400dab55f3a9c30"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classio_1_1agora_1_1chat_1_1_chat_manager.html#a8f369cf5337f3f08d400dab55f3a9c30">downloadFile</a> (final String remoteUrl, final String localFilePath, final Map&lt; String, String &gt; headers, final <a class="el" href="interfaceio_1_1agora_1_1_call_back.html">CallBack</a> callback)</td></tr>
<tr class="separator:a8f369cf5337f3f08d400dab55f3a9c30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af25fbeed0527afb33bb5c24ad4e53e08"><td class="memItemLeft" align="right" valign="top">Map&lt; String, <a class="el" href="classio_1_1agora_1_1chat_1_1_conversation.html">Conversation</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classio_1_1agora_1_1chat_1_1_chat_manager.html#af25fbeed0527afb33bb5c24ad4e53e08">getAllConversations</a> ()</td></tr>
<tr class="separator:af25fbeed0527afb33bb5c24ad4e53e08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe6c1f60451f008dfa4ef89479a1572b"><td class="memItemLeft" align="right" valign="top">Map&lt; String, <a class="el" href="classio_1_1agora_1_1chat_1_1_conversation.html">Conversation</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classio_1_1agora_1_1chat_1_1_chat_manager.html#abe6c1f60451f008dfa4ef89479a1572b">fetchConversationsFromServer</a> ()  throws ChatException </td></tr>
<tr class="separator:abe6c1f60451f008dfa4ef89479a1572b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c7a59225770898f98e2b7c69b50e9cd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classio_1_1agora_1_1chat_1_1_chat_manager.html#a7c7a59225770898f98e2b7c69b50e9cd">asyncFetchConversationsFromServer</a> (final <a class="el" href="interfaceio_1_1agora_1_1_value_call_back.html">ValueCallBack</a>&lt; Map&lt; String, <a class="el" href="classio_1_1agora_1_1chat_1_1_conversation.html">Conversation</a> &gt;&gt; callBack)</td></tr>
<tr class="separator:a7c7a59225770898f98e2b7c69b50e9cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a670d44662419ddee494710e881096c43"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classio_1_1agora_1_1chat_1_1_chat_manager.html#a670d44662419ddee494710e881096c43">loadAllConversations</a> ()</td></tr>
<tr class="separator:a670d44662419ddee494710e881096c43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55f9d270ea1638fc556c3325ac348488"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classio_1_1agora_1_1chat_1_1_chat_manager.html#a55f9d270ea1638fc556c3325ac348488">deleteConversation</a> (String username, boolean deleteMessages)</td></tr>
<tr class="separator:a55f9d270ea1638fc556c3325ac348488"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29f18970bfcf66e1282a4586ada76847"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classio_1_1agora_1_1chat_1_1_chat_manager.html#a29f18970bfcf66e1282a4586ada76847">addMessageListener</a> (<a class="el" href="interfaceio_1_1agora_1_1_message_listener.html">MessageListener</a> listener)</td></tr>
<tr class="separator:a29f18970bfcf66e1282a4586ada76847"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5aa03279de8c351abde0d04b7090a201"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classio_1_1agora_1_1chat_1_1_chat_manager.html#a5aa03279de8c351abde0d04b7090a201">removeMessageListener</a> (<a class="el" href="interfaceio_1_1agora_1_1_message_listener.html">MessageListener</a> listener)</td></tr>
<tr class="separator:a5aa03279de8c351abde0d04b7090a201"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43e71631a15d4cfcc209557e017f2c11"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classio_1_1agora_1_1chat_1_1_chat_manager.html#a43e71631a15d4cfcc209557e017f2c11">addConversationListener</a> (<a class="el" href="interfaceio_1_1agora_1_1_conversation_listener.html">ConversationListener</a> listener)</td></tr>
<tr class="separator:a43e71631a15d4cfcc209557e017f2c11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79476748c67f77c060f64e275fb70296"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classio_1_1agora_1_1chat_1_1_chat_manager.html#a79476748c67f77c060f64e275fb70296">removeConversationListener</a> (<a class="el" href="interfaceio_1_1agora_1_1_conversation_listener.html">ConversationListener</a> listener)</td></tr>
<tr class="separator:a79476748c67f77c060f64e275fb70296"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2572fec88b3c455087e6a1e3d6eba28"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classio_1_1agora_1_1chat_1_1_chat_manager.html#ad2572fec88b3c455087e6a1e3d6eba28">setMessageListened</a> (<a class="el" href="classio_1_1agora_1_1chat_1_1_chat_message.html">ChatMessage</a> message)</td></tr>
<tr class="separator:ad2572fec88b3c455087e6a1e3d6eba28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2b645872bbcb852cf52bb66817d985e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classio_1_1agora_1_1chat_1_1_chat_manager.html#af2b645872bbcb852cf52bb66817d985e">setVoiceMessageListened</a> (<a class="el" href="classio_1_1agora_1_1chat_1_1_chat_message.html">ChatMessage</a> message)</td></tr>
<tr class="separator:af2b645872bbcb852cf52bb66817d985e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87c15cf2a34fd4bd0923afd49270087a"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classio_1_1agora_1_1chat_1_1_chat_manager.html#a87c15cf2a34fd4bd0923afd49270087a">updateParticipant</a> (String from, String changeTo)</td></tr>
<tr class="separator:a87c15cf2a34fd4bd0923afd49270087a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a678ac58fbc0eab7ad565f78fa94d8db1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classio_1_1agora_1_1chat_1_1_cursor_result.html">CursorResult</a>&lt; <a class="el" href="classio_1_1agora_1_1chat_1_1_group_read_ack.html">GroupReadAck</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classio_1_1agora_1_1chat_1_1_chat_manager.html#a678ac58fbc0eab7ad565f78fa94d8db1">fetchGroupReadAcks</a> (String msgId, int pageSize, String startAckId)  throws ChatException </td></tr>
<tr class="separator:a678ac58fbc0eab7ad565f78fa94d8db1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ba91f77211c49d1c9484c7caec69bde"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classio_1_1agora_1_1chat_1_1_chat_manager.html#a9ba91f77211c49d1c9484c7caec69bde">asyncFetchGroupReadAcks</a> (final String msgId, final int pageSize, final String startAckId, final <a class="el" href="interfaceio_1_1agora_1_1_value_call_back.html">ValueCallBack</a>&lt; <a class="el" href="classio_1_1agora_1_1chat_1_1_cursor_result.html">CursorResult</a>&lt; <a class="el" href="classio_1_1agora_1_1chat_1_1_group_read_ack.html">GroupReadAck</a> &gt;&gt; callBack)</td></tr>
<tr class="separator:a9ba91f77211c49d1c9484c7caec69bde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9884823f127b04decb4475e49f0484aa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classio_1_1agora_1_1chat_1_1_cursor_result.html">CursorResult</a>&lt; <a class="el" href="classio_1_1agora_1_1chat_1_1_chat_message.html">ChatMessage</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classio_1_1agora_1_1chat_1_1_chat_manager.html#a9884823f127b04decb4475e49f0484aa">fetchHistoryMessages</a> (String conversationId, <a class="el" href="enumio_1_1agora_1_1chat_1_1_conversation_1_1_conversation_type.html">ConversationType</a> type, int pageSize, String startMsgId)  throws ChatException </td></tr>
<tr class="separator:a9884823f127b04decb4475e49f0484aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c4f64b2db024e6b8e9a243fa165d323"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classio_1_1agora_1_1chat_1_1_chat_manager.html#a4c4f64b2db024e6b8e9a243fa165d323">asyncFetchHistoryMessage</a> (final String conversationId, final <a class="el" href="enumio_1_1agora_1_1chat_1_1_conversation_1_1_conversation_type.html">ConversationType</a> type, final int pageSize, final String startMsgId, final <a class="el" href="interfaceio_1_1agora_1_1_value_call_back.html">ValueCallBack</a>&lt; <a class="el" href="classio_1_1agora_1_1chat_1_1_cursor_result.html">CursorResult</a>&lt; <a class="el" href="classio_1_1agora_1_1chat_1_1_chat_message.html">ChatMessage</a> &gt;&gt; callBack)</td></tr>
<tr class="separator:a4c4f64b2db024e6b8e9a243fa165d323"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40654f07baf71f58ddc09e5be6547c64"><td class="memItemLeft" align="right" valign="top">List&lt; <a class="el" href="classio_1_1agora_1_1chat_1_1_chat_message.html">ChatMessage</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classio_1_1agora_1_1chat_1_1_chat_manager.html#a40654f07baf71f58ddc09e5be6547c64">searchMsgFromDB</a> (ChatMessage.Type type, long timeStamp, int maxCount, String from, Conversation.EMSearchDirection direction)</td></tr>
<tr class="separator:a40654f07baf71f58ddc09e5be6547c64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81ce31fce4ac18b9fe98ca261d5fa86a"><td class="memItemLeft" align="right" valign="top">List&lt; <a class="el" href="classio_1_1agora_1_1chat_1_1_chat_message.html">ChatMessage</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classio_1_1agora_1_1chat_1_1_chat_manager.html#a81ce31fce4ac18b9fe98ca261d5fa86a">searchMsgFromDB</a> (String keywords, long timeStamp, int maxCount, String from, Conversation.EMSearchDirection direction)</td></tr>
<tr class="separator:a81ce31fce4ac18b9fe98ca261d5fa86a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a2befd9b139724ceb3d6010c138ec632c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2befd9b139724ceb3d6010c138ec632c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ChatManager</b> (<a class="el" href="classio_1_1agora_1_1chat_1_1_chat_client.html">ChatClient</a> client, EMAChatManager manager)</td></tr>
<tr class="separator:a2befd9b139724ceb3d6010c138ec632c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Chat manager, responsible for managing conversations (such as: load, delete), sending messages, downloading attachments and so on Such as, send a text message: </p><pre>
    <a class="el" href="classio_1_1agora_1_1chat_1_1_chat_message.html">ChatMessage</a> message = ChatMessage.createTxtSendMessage(content, toChatUsername);
    ChatClient.getInstance().chatManager().sendMessage(message);
</pre> </div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a48c11104aabf75ff5dfc6e65d29689d3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void io.agora.chat.ChatManager.ackConversationRead </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>conversationId</em></td><td>)</td>
          <td> throws ChatException</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Send read conversation ack to server, only for single chat conversation Send it will inform the sever set the conversation reading to 0, and conversationist (with multiple devices) will receive a callback method <a class="el" href="interfaceio_1_1agora_1_1_conversation_listener.html#af987cb817fb1d58b28c71e9e3f16b68f">ConversationListener#onConversationRead(String, String)</a></p>
<p>Send group message ack to sever, see <a class="el" href="classio_1_1agora_1_1chat_1_1_chat_manager.html#ae3f332b14444a8f0789562a5cae984b2">ackGroupMessageRead(String, String, String)</a></p>
<p>Suggestion: the method can be called when enter the chat page, other session can call the method of <a class="el" href="classio_1_1agora_1_1chat_1_1_chat_manager.html#ae3acc4e2e553d7fcf77bbe921c6b8c93">ackMessageRead(String, String)</a> , can reduce the number of call to <a class="el" href="classio_1_1agora_1_1chat_1_1_chat_manager.html#ae3acc4e2e553d7fcf77bbe921c6b8c93">ackMessageRead(String, String)</a> when there are a large number of unread messages</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conversationId</td><td><a class="el" href="classio_1_1agora_1_1chat_1_1_conversation.html">Conversation</a> id </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">ChatException</td><td>Maybe throws exception <a class="el" href="classio_1_1agora_1_1_error.html#ac4ffa19cc96c524f73bdbb615aa4eecd">Error#USER_NOT_LOGIN</a>, <a class="el" href="classio_1_1agora_1_1_error.html#a8788aea68b3104a550884dc0830c2dbc">Error#SERVER_NOT_REACHABLE</a>, <a class="el" href="classio_1_1agora_1_1_error.html#a6285eb07a70a86021bba3d3d8ce39e8b">Error#MESSAGE_INVALID</a> and so on, see <a class="el" href="classio_1_1agora_1_1_error.html">Error</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae3f332b14444a8f0789562a5cae984b2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void io.agora.chat.ChatManager.ackGroupMessageRead </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>to</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>messageId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>ext</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> throws ChatException</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Send group message ack to server Precondition: set <a class="el" href="classio_1_1agora_1_1chat_1_1_chat_options.html#ab5ad14989f91ddfc17fc6364619daa7e">ChatOptions#setRequireAck(boolean)</a> and <a class="el" href="classio_1_1agora_1_1chat_1_1_chat_message.html#a8cd51d03641d50f2e7d86cb1d2883ed1">ChatMessage#setIsNeedGroupAck(boolean)</a></p>
<p>Send single chat message ack to server, see <a class="el" href="classio_1_1agora_1_1chat_1_1_chat_manager.html#ae3acc4e2e553d7fcf77bbe921c6b8c93">ackMessageRead(String, String)</a>; Send conversation ack to server, see <a class="el" href="classio_1_1agora_1_1chat_1_1_chat_manager.html#a48c11104aabf75ff5dfc6e65d29689d3">ackConversationRead(String)</a> </p>

</div>
</div>
<a class="anchor" id="ae3acc4e2e553d7fcf77bbe921c6b8c93"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void io.agora.chat.ChatManager.ackMessageRead </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>to</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>messageId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> throws ChatException</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Send read ack to server, only for single chat Precondition: set <a class="el" href="classio_1_1agora_1_1chat_1_1_chat_options.html#ab5ad14989f91ddfc17fc6364619daa7e">ChatOptions#setRequireAck(boolean)</a></p>
<p>Send group message ack to sever, see <a class="el" href="classio_1_1agora_1_1chat_1_1_chat_manager.html#ae3f332b14444a8f0789562a5cae984b2">ackGroupMessageRead(String, String, String)</a></p>
<p>Suggestion: calls <a class="el" href="classio_1_1agora_1_1chat_1_1_chat_manager.html#a48c11104aabf75ff5dfc6e65d29689d3">ackConversationRead(String)</a> on entering a chat page, then calls the current method in other scenarios, can reduce the times this method is called.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">to</td><td>the recipient id </td></tr>
    <tr><td class="paramname">messageId</td><td>message id </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">ChatException</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a43e71631a15d4cfcc209557e017f2c11"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void io.agora.chat.ChatManager.addConversationListener </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interfaceio_1_1agora_1_1_conversation_listener.html">ConversationListener</a>&#160;</td>
          <td class="paramname"><em>listener</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add conversation listener </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="interfaceio_1_1agora_1_1_conversation_listener.html">ConversationListener</a> Use to listen the change of conversation and listen the conversation ack message, see <a class="el" href="interfaceio_1_1agora_1_1_conversation_listener.html">ConversationListener</a> If has set this method need to remove the conversation listener by calls the method of <a class="el" href="classio_1_1agora_1_1chat_1_1_chat_manager.html#a79476748c67f77c060f64e275fb70296">removeConversationListener(ConversationListener)</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">listener</td><td>The conversation listener will to be set, see <a class="el" href="interfaceio_1_1agora_1_1_conversation_listener.html">ConversationListener</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a29f18970bfcf66e1282a4586ada76847"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void io.agora.chat.ChatManager.addMessageListener </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interfaceio_1_1agora_1_1_message_listener.html">MessageListener</a>&#160;</td>
          <td class="paramname"><em>listener</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add message listener Receives new messages and so on can set the method to listen, see <a class="el" href="interfaceio_1_1agora_1_1_message_listener.html">MessageListener</a> </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="interfaceio_1_1agora_1_1_message_listener.html">MessageListener</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">listener</td><td>The message listener which is used to listen the incoming messages, see <a class="el" href="interfaceio_1_1agora_1_1_message_listener.html">MessageListener</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7c7a59225770898f98e2b7c69b50e9cd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void io.agora.chat.ChatManager.asyncFetchConversationsFromServer </td>
          <td>(</td>
          <td class="paramtype">final <a class="el" href="interfaceio_1_1agora_1_1_value_call_back.html">ValueCallBack</a>&lt; Map&lt; String, <a class="el" href="classio_1_1agora_1_1chat_1_1_conversation.html">Conversation</a> &gt;&gt;&#160;</td>
          <td class="paramname"><em>callBack</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Fetch conversations from server Default maximum return is 100.</p>
<p>Asynchronously method</p>
<dl class="section return"><dt>Returns</dt><dd>Return the conversation list of current user </dd></dl>

</div>
</div>
<a class="anchor" id="a9ba91f77211c49d1c9484c7caec69bde"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void io.agora.chat.ChatManager.asyncFetchGroupReadAcks </td>
          <td>(</td>
          <td class="paramtype">final String&#160;</td>
          <td class="paramname"><em>msgId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final int&#160;</td>
          <td class="paramname"><em>pageSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final String&#160;</td>
          <td class="paramname"><em>startAckId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final <a class="el" href="interfaceio_1_1agora_1_1_value_call_back.html">ValueCallBack</a>&lt; <a class="el" href="classio_1_1agora_1_1chat_1_1_cursor_result.html">CursorResult</a>&lt; <a class="el" href="classio_1_1agora_1_1chat_1_1_group_read_ack.html">GroupReadAck</a> &gt;&gt;&#160;</td>
          <td class="paramname"><em>callBack</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Fetch ack details for group messages from server Fetch by page Send group ack, see <a class="el" href="classio_1_1agora_1_1chat_1_1_chat_manager.html#a48c11104aabf75ff5dfc6e65d29689d3">ackConversationRead(String)</a></p>
<p>Asynchronously method</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msgId</td><td>The message id which need fetch receipt </td></tr>
    <tr><td class="paramname">pageSize</td><td>The page size per time fetch group message receipt </td></tr>
    <tr><td class="paramname">startAckId</td><td>The start id for fetch acks, can be null, if null start from the server lastest ack. </td></tr>
    <tr><td class="paramname">callBack</td><td>Result callback, success execute the method <a class="el" href="">ValueCallBack#onSuccess(Object)</a>, failure execute the method <a class="el" href="">ValueCallBack#onError(int, String)</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a4c4f64b2db024e6b8e9a243fa165d323"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void io.agora.chat.ChatManager.asyncFetchHistoryMessage </td>
          <td>(</td>
          <td class="paramtype">final String&#160;</td>
          <td class="paramname"><em>conversationId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final <a class="el" href="enumio_1_1agora_1_1chat_1_1_conversation_1_1_conversation_type.html">ConversationType</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final int&#160;</td>
          <td class="paramname"><em>pageSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final String&#160;</td>
          <td class="paramname"><em>startMsgId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final <a class="el" href="interfaceio_1_1agora_1_1_value_call_back.html">ValueCallBack</a>&lt; <a class="el" href="classio_1_1agora_1_1chat_1_1_cursor_result.html">CursorResult</a>&lt; <a class="el" href="classio_1_1agora_1_1chat_1_1_chat_message.html">ChatMessage</a> &gt;&gt;&#160;</td>
          <td class="paramname"><em>callBack</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Fetch conversation roam messages from server Fetch by page</p>
<p>Asynchronously method</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conversationId</td><td>The conversation id which select to fetch roam message. </td></tr>
    <tr><td class="paramname">type</td><td>The conversation type which select to fetch roam message. </td></tr>
    <tr><td class="paramname">pageSize</td><td>Number fetched per time </td></tr>
    <tr><td class="paramname">startMsgId</td><td>The start search roam message, if empty start from the server lastest message. </td></tr>
    <tr><td class="paramname">callBack</td><td>Result callback, success execute the method <a class="el" href="">ValueCallBack#onSuccess(Object)</a>, return messages from server and cursor for next fetch action; failue execute the method <a class="el" href="">ValueCallBack#onError(int, String)</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a1c35ded4ac29e993c6a77351d1751b04"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void io.agora.chat.ChatManager.aysncRecallMessage </td>
          <td>(</td>
          <td class="paramtype">final <a class="el" href="classio_1_1agora_1_1chat_1_1_chat_message.html">ChatMessage</a>&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final <a class="el" href="interfaceio_1_1agora_1_1_call_back.html">CallBack</a>&#160;</td>
          <td class="paramname"><em>callback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Recall the sent message</p>
<p>Asynchronously method</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>Message object </td></tr>
    <tr><td class="paramname">callback</td><td>Send callback, see <a class="el" href="interfaceio_1_1agora_1_1_call_back.html">CallBack</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a55f9d270ea1638fc556c3325ac348488"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean io.agora.chat.ChatManager.deleteConversation </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>username</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>deleteMessages</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Delete conversation and messages from local database If set true for deleteMessages, delete the local chat history when delete the conversation</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">username</td><td><a class="el" href="classio_1_1agora_1_1chat_1_1_conversation.html">Conversation</a> ID </td></tr>
    <tr><td class="paramname">deleteMessages</td><td>Whether delete chat history when delete conversation </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The result of delete conversation. True means success, false means failure </dd></dl>

</div>
</div>
<a class="anchor" id="af5298f55319dd769b69623c111cc8dcb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void io.agora.chat.ChatManager.downloadAttachment </td>
          <td>(</td>
          <td class="paramtype">final <a class="el" href="classio_1_1agora_1_1chat_1_1_chat_message.html">ChatMessage</a>&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Download the message attachment Call the method if the attachment download fails</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>Message to be download the attachment </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8f369cf5337f3f08d400dab55f3a9c30"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void io.agora.chat.ChatManager.downloadFile </td>
          <td>(</td>
          <td class="paramtype">final String&#160;</td>
          <td class="paramname"><em>remoteUrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final String&#160;</td>
          <td class="paramname"><em>localFilePath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final Map&lt; String, String &gt;&#160;</td>
          <td class="paramname"><em>headers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final <a class="el" href="interfaceio_1_1agora_1_1_call_back.html">CallBack</a>&#160;</td>
          <td class="paramname"><em>callback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Download the file from server</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">remoteUrl</td><td>The remote file url </td></tr>
    <tr><td class="paramname">localFilePath</td><td>The local file path </td></tr>
    <tr><td class="paramname">headers</td><td>Http Request Headers </td></tr>
    <tr><td class="paramname">callback</td><td>Download status callback, see <a class="el" href="interfaceio_1_1agora_1_1_call_back.html">CallBack</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000003">Deprecated:</a></b></dt><dd>Use <a class="el" href="">downloadAttachment(ChatMessage)</a> instead </dd></dl>

</div>
</div>
<a class="anchor" id="abdc79b8af968ba4f4a00d326746b0013"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void io.agora.chat.ChatManager.downloadThumbnail </td>
          <td>(</td>
          <td class="paramtype">final <a class="el" href="classio_1_1agora_1_1chat_1_1_chat_message.html">ChatMessage</a>&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Download the thumbnail if not downloaded before or downloaded failed</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>The message to be downloaded thumbnail </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="abe6c1f60451f008dfa4ef89479a1572b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Map&lt;String, <a class="el" href="classio_1_1agora_1_1chat_1_1_conversation.html">Conversation</a>&gt; io.agora.chat.ChatManager.fetchConversationsFromServer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> throws ChatException</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Fetch conversations from server, Default maximum return is 100.</p>
<p>Synchronization method will block the current thread</p>
<dl class="section return"><dt>Returns</dt><dd>Return the conversation list of current user </dd></dl>

</div>
</div>
<a class="anchor" id="a678ac58fbc0eab7ad565f78fa94d8db1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classio_1_1agora_1_1chat_1_1_cursor_result.html">CursorResult</a>&lt;<a class="el" href="classio_1_1agora_1_1chat_1_1_group_read_ack.html">GroupReadAck</a>&gt; io.agora.chat.ChatManager.fetchGroupReadAcks </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>msgId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pageSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>startAckId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> throws ChatException</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Fetch ack details for group messages from server. Fetch by page Send group ack, see <a class="el" href="classio_1_1agora_1_1chat_1_1_chat_manager.html#a48c11104aabf75ff5dfc6e65d29689d3">ackConversationRead(String)</a></p>
<p>Synchronization method will block the current thread</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msgId</td><td>The message id which need fetch receipt </td></tr>
    <tr><td class="paramname">pageSize</td><td>The page size per time fetch group message receipt </td></tr>
    <tr><td class="paramname">startAckId</td><td>The start id for fetch acks, can be null, if null start from the server lastest ack. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The list returned ack from server and cursor for next fetch action. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">ChatException</td><td><a class="el" href="classio_1_1agora_1_1_error.html">Error</a> code see <a class="el" href="classio_1_1agora_1_1_error.html">Error</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9884823f127b04decb4475e49f0484aa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classio_1_1agora_1_1chat_1_1_cursor_result.html">CursorResult</a>&lt;<a class="el" href="classio_1_1agora_1_1chat_1_1_chat_message.html">ChatMessage</a>&gt; io.agora.chat.ChatManager.fetchHistoryMessages </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>conversationId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="enumio_1_1agora_1_1chat_1_1_conversation_1_1_conversation_type.html">ConversationType</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pageSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>startMsgId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> throws ChatException</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Fetch conversation roam messages from server Fetch by page</p>
<p>Synchronization method will block the current thread</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conversationId</td><td>The conversation id which select to fetch roam message </td></tr>
    <tr><td class="paramname">type</td><td>The conversation type which select to fetch roam message, see <a class="el" href="">ConversationType</a> </td></tr>
    <tr><td class="paramname">pageSize</td><td>Number fetched per time </td></tr>
    <tr><td class="paramname">startMsgId</td><td>The start search roam message, if empty start from the server lastest message. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Server return messages and cursor for next fetch action. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">ChatException</td><td><a class="el" href="classio_1_1agora_1_1_error.html">Error</a> code see <a class="el" href="classio_1_1agora_1_1_error.html">Error</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af25fbeed0527afb33bb5c24ad4e53e08"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Map&lt;String, <a class="el" href="classio_1_1agora_1_1chat_1_1_conversation.html">Conversation</a>&gt; io.agora.chat.ChatManager.getAllConversations </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get all conversations from local Load from memory first, if not then load from local database</p>
<dl class="section return"><dt>Returns</dt><dd>Return the map of conversations from memory or local database </dd></dl>

</div>
</div>
<a class="anchor" id="a1dea229f1bc9e9d605a64228cc47a4e7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classio_1_1agora_1_1chat_1_1_conversation.html">Conversation</a> io.agora.chat.ChatManager.getConversation </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get conversation object by the specified ID Return null if not find</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td><a class="el" href="classio_1_1agora_1_1chat_1_1_conversation.html">Conversation</a> ID </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The existing conversation found by conversation ID, null if not found </dd></dl>

</div>
</div>
<a class="anchor" id="a37f6e25066c2645597d576920d24aa8a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classio_1_1agora_1_1chat_1_1_conversation.html">Conversation</a> io.agora.chat.ChatManager.getConversation </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="enumio_1_1agora_1_1chat_1_1_conversation_1_1_conversation_type.html">ConversationType</a>&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get conversation by conversation id and conversation type Return null if not find</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td><a class="el" href="classio_1_1agora_1_1chat_1_1_conversation.html">Conversation</a> ID </td></tr>
    <tr><td class="paramname">type</td><td>The conversation type, see <a class="el" href="">ConversationType</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The conversation object found according to the id and type, null if not found </dd></dl>

</div>
</div>
<a class="anchor" id="a4a1ce1ed2c1fdf3eec13cc462c282191"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classio_1_1agora_1_1chat_1_1_conversation.html">Conversation</a> io.agora.chat.ChatManager.getConversation </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>username</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="enumio_1_1agora_1_1chat_1_1_conversation_1_1_conversation_type.html">ConversationType</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>createIfNotExists</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get conversation object by conversation id and conversation type If not find, either a new object or an empty object is returned based on the value of CreateIFNotExists</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">username</td><td><a class="el" href="classio_1_1agora_1_1chat_1_1_conversation.html">Conversation</a> ID </td></tr>
    <tr><td class="paramname">type</td><td>The conversation type, see <a class="el" href="">ConversationType</a> </td></tr>
    <tr><td class="paramname">createIfNotExists</td><td>Whether Create conversation by the value if not find </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The conversation object found according to the id and type, null if not found </dd></dl>

</div>
</div>
<a class="anchor" id="a1cb78d06a4ac90f3e1eb00df942d79f4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">List&lt;<a class="el" href="classio_1_1agora_1_1chat_1_1_conversation.html">Conversation</a>&gt; io.agora.chat.ChatManager.getConversationsByType </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="enumio_1_1agora_1_1chat_1_1_conversation_1_1_conversation_type.html">ConversationType</a>&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get list of conversations by conversation type</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>The conversation type, see <a class="el" href="">ConversationType</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>List of conversation in specified type </dd></dl>

</div>
</div>
<a class="anchor" id="a96eaef53e8df62a900baf712cc5f4fbc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classio_1_1agora_1_1chat_1_1_chat_message.html">ChatMessage</a> io.agora.chat.ChatManager.getMessage </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>messageId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>get message through message id</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">messageId</td><td>message id </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The message object obtained by the specified ID, may be null </dd></dl>

</div>
</div>
<a class="anchor" id="af1ba2602185cc6b1255eb7bc40882ee7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int io.agora.chat.ChatManager.getUnreadMessageCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get unread message count </p><dl class="section return"><dt>Returns</dt><dd>The count of unread messages </dd></dl>

</div>
</div>
<a class="anchor" id="af1036897f3c6c302d69ab70cd6106df0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int io.agora.chat.ChatManager.getUnreadMsgsCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get unread message count </p><dl class="section return"><dt>Returns</dt><dd>The count of unread messages</dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000002">Deprecated:</a></b></dt><dd>Use <a class="el" href="classio_1_1agora_1_1chat_1_1_chat_manager.html#af1ba2602185cc6b1255eb7bc40882ee7">ChatManager#getUnreadMessageCount()</a> instead </dd></dl>

</div>
</div>
<a class="anchor" id="adf8f64a7885eb3ff1c840f2aba9056c3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">synchronized void io.agora.chat.ChatManager.importMessages </td>
          <td>(</td>
          <td class="paramtype">List&lt; <a class="el" href="classio_1_1agora_1_1chat_1_1_chat_message.html">ChatMessage</a> &gt;&#160;</td>
          <td class="paramname"><em>msgs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Import messages to local database. Make sure the message's sender or receiver is current user Recommend import up to 1000 messages per operation</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msgs</td><td>The message list of be imported </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a670d44662419ddee494710e881096c43"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void io.agora.chat.ChatManager.loadAllConversations </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Load all conversations from local database into memory Generally used after a successful login to speed up the loading of the conversation list </p>

</div>
</div>
<a class="anchor" id="aad13acd1db0358917450d1c5efd4806b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void io.agora.chat.ChatManager.markAllConversationsAsRead </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>mark all messages as read For local conversations </p>

</div>
</div>
<a class="anchor" id="a766fec8e12f97cd1db6e472db1959e4f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void io.agora.chat.ChatManager.recallMessage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classio_1_1agora_1_1chat_1_1_chat_message.html">ChatMessage</a>&#160;</td>
          <td class="paramname"><em>message</em></td><td>)</td>
          <td> throws ChatException</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Recall the sent message</p>
<p>Synchronization method block the current thread</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>Message object</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">ChatException</td><td>See <a class="el" href="classio_1_1agora_1_1_error.html">Error</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a79476748c67f77c060f64e275fb70296"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void io.agora.chat.ChatManager.removeConversationListener </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interfaceio_1_1agora_1_1_conversation_listener.html">ConversationListener</a>&#160;</td>
          <td class="paramname"><em>listener</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Remove the conversation listener After set <a class="el" href="classio_1_1agora_1_1chat_1_1_chat_manager.html#a43e71631a15d4cfcc209557e017f2c11">addConversationListener(ConversationListener)</a> need to remove the listener by calls this method</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">listener</td><td>the conversation listener set before </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a5aa03279de8c351abde0d04b7090a201"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void io.agora.chat.ChatManager.removeMessageListener </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interfaceio_1_1agora_1_1_message_listener.html">MessageListener</a>&#160;</td>
          <td class="paramname"><em>listener</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Remove the message listener After set <a class="el" href="classio_1_1agora_1_1chat_1_1_chat_manager.html#a29f18970bfcf66e1282a4586ada76847">addMessageListener(MessageListener)</a> should calls this method</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">listener</td><td>The message listener set before need to remove </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a64ef8b0230f970a596feb849221b8905"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void io.agora.chat.ChatManager.saveMessage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classio_1_1agora_1_1chat_1_1_chat_message.html">ChatMessage</a>&#160;</td>
          <td class="paramname"><em>message</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Save the message to memory and local database CMD type message not be stored in database</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>The emssage to store </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a40654f07baf71f58ddc09e5be6547c64"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">List&lt;<a class="el" href="classio_1_1agora_1_1chat_1_1_chat_message.html">ChatMessage</a>&gt; io.agora.chat.ChatManager.searchMsgFromDB </td>
          <td>(</td>
          <td class="paramtype">ChatMessage.Type&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>timeStamp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>maxCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Conversation.EMSearchDirection&#160;</td>
          <td class="paramname"><em>direction</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Search message from database according the parameters Note: Cautious about memory usage when the maxCount is large, currently the limited number of search data is 400 at a time</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>Message type, TXTVOICEIMAGE and so on, see <a class="el" href="enumio_1_1agora_1_1chat_1_1_chat_message_1_1_type.html">ChatMessage.Type</a> </td></tr>
    <tr><td class="paramname">timeStamp</td><td>The timestamp for search </td></tr>
    <tr><td class="paramname">maxCount</td><td>The max number of message to search </td></tr>
    <tr><td class="paramname">from</td><td>A user id or a group id searches for messages, usually refers to the conversation ID </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The list of searched messages </dd></dl>

</div>
</div>
<a class="anchor" id="a81ce31fce4ac18b9fe98ca261d5fa86a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">List&lt;<a class="el" href="classio_1_1agora_1_1chat_1_1_chat_message.html">ChatMessage</a>&gt; io.agora.chat.ChatManager.searchMsgFromDB </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>keywords</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>timeStamp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>maxCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Conversation.EMSearchDirection&#160;</td>
          <td class="paramname"><em>direction</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Search message from database based the parameters Note: Cautious about memory usage when the maxCount is large, currently the limited number of search data is 400 at a time</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">keywords</td><td>The keywords in message. </td></tr>
    <tr><td class="paramname">timeStamp</td><td>The timestamp for search </td></tr>
    <tr><td class="paramname">maxCount</td><td>The max number of message to search </td></tr>
    <tr><td class="paramname">from</td><td>A user id or a group id searches for messages, usually refers to the conversation ID </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The list of searched messages </dd></dl>

</div>
</div>
<a class="anchor" id="aed75ce0a590423ac18a94e1d339e97f4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void io.agora.chat.ChatManager.sendMessage </td>
          <td>(</td>
          <td class="paramtype">final <a class="el" href="classio_1_1agora_1_1chat_1_1_chat_message.html">ChatMessage</a>&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Send message If is voice, picture and other message with attachment, SDK will automatically upload the attachment Can set whether upload to chat sever by <a class="el" href="classio_1_1agora_1_1chat_1_1_chat_options.html#ad31c7dc2ef2d6d84f00b365dab15394c">ChatOptions#setAutoTransferMessageAttachments(boolean)</a>, the default value is true The send message status, can set listener by <a class="el" href="classio_1_1agora_1_1chat_1_1_chat_message.html#a329414d764bbb44c312b3c56d0b4964c">ChatMessage#setMessageStatusCallback(CallBack)</a>, we should set it before the method of <a class="el" href="classio_1_1agora_1_1chat_1_1_chat_manager.html#aed75ce0a590423ac18a94e1d339e97f4">sendMessage()</a>, otherwise the listener may be recycled by the system</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>Message object to be sent, not be null </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad2572fec88b3c455087e6a1e3d6eba28"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void io.agora.chat.ChatManager.setMessageListened </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classio_1_1agora_1_1chat_1_1_chat_message.html">ChatMessage</a>&#160;</td>
          <td class="paramname"><em>message</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set message to listened, used for voice message</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>The message object to set </td></tr>
  </table>
  </dd>
</dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000004">Deprecated:</a></b></dt><dd>Use <a class="el" href="classio_1_1agora_1_1chat_1_1_chat_manager.html#af2b645872bbcb852cf52bb66817d985e">ChatManager#setVoiceMessageListened(ChatMessage)</a> instead </dd></dl>

</div>
</div>
<a class="anchor" id="af2b645872bbcb852cf52bb66817d985e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void io.agora.chat.ChatManager.setVoiceMessageListened </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classio_1_1agora_1_1chat_1_1_chat_message.html">ChatMessage</a>&#160;</td>
          <td class="paramname"><em>message</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set message to listened, used for voice message</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>The message object to set </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af8057434f0c818eec2afc5177beff9db"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean io.agora.chat.ChatManager.updateMessage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classio_1_1agora_1_1chat_1_1_chat_message.html">ChatMessage</a>&#160;</td>
          <td class="paramname"><em>message</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Update the local message Update the memory and local database</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>The message objec to update </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a87c15cf2a34fd4bd0923afd49270087a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean io.agora.chat.ChatManager.updateParticipant </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>changeTo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Update database records, change username 'from' to 'changeTo', take effect on message table, conversation table, contacts, blacklist table Note: this operation does not update data stored in memory cache.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">from</td><td>The userId before replace </td></tr>
    <tr><td class="paramname">changeTo</td><td>The userId after replace </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Operation result, if any update operations on those tables failed, result is false </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>hyphenatechatsdk/src/io/agora/chat/ChatManager.java</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Jun 29 2021 16:01:31 for agora_chat_SDK by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9
</small></address>
</body>
</html>
