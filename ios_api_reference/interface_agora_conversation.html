<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>agora_chat_SDK: AgoraConversation Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">agora_chat_SDK
   &#160;<span id="projectnumber">3.8.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Instance Methods</a> &#124;
<a href="#properties">Properties</a> &#124;
<a href="class_agora_conversation-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">AgoraConversation Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#import &lt;<a class="el" href="_agora_conversation_8h_source.html">AgoraConversation.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for AgoraConversation:</div>
<div class="dyncontent">
 <div class="center">
  <img src="interface_agora_conversation.png" usemap="#AgoraConversation_map" alt=""/>
  <map id="AgoraConversation_map" name="AgoraConversation_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Instance Methods</h2></td></tr>
<tr class="memitem:a41980a87b606c8a24d28e824b7bc7426"><td class="memItemLeft" align="right" valign="top">(<a class="el" href="interface_message.html">Message</a> *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_agora_conversation.html#a41980a87b606c8a24d28e824b7bc7426">lastReceivedMessage</a></td></tr>
<tr class="separator:a41980a87b606c8a24d28e824b7bc7426"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad06925ecb77ee92b04c5217e88a7fd10"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_agora_conversation.html#ad06925ecb77ee92b04c5217e88a7fd10">insertMessage:error:</a></td></tr>
<tr class="separator:ad06925ecb77ee92b04c5217e88a7fd10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a702888246745cacf4700e0938e9ca2b7"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_agora_conversation.html#a702888246745cacf4700e0938e9ca2b7">appendMessage:error:</a></td></tr>
<tr class="separator:a702888246745cacf4700e0938e9ca2b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af11ed445691665bf7f5ffb8eda971ad2"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_agora_conversation.html#af11ed445691665bf7f5ffb8eda971ad2">deleteMessageWithId:error:</a></td></tr>
<tr class="separator:af11ed445691665bf7f5ffb8eda971ad2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d9c1ffd9c70feaa5563c51e73fe8610"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_agora_conversation.html#a3d9c1ffd9c70feaa5563c51e73fe8610">deleteAllMessages:</a></td></tr>
<tr class="separator:a3d9c1ffd9c70feaa5563c51e73fe8610"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a829edbd42b108d45dabb7713fec0c497"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_agora_conversation.html#a829edbd42b108d45dabb7713fec0c497">updateMessageChange:error:</a></td></tr>
<tr class="separator:a829edbd42b108d45dabb7713fec0c497"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad22548f7bdbc1fc7da2f7fe6f5dd06d0"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_agora_conversation.html#ad22548f7bdbc1fc7da2f7fe6f5dd06d0">markMessageAsReadWithId:error:</a></td></tr>
<tr class="separator:ad22548f7bdbc1fc7da2f7fe6f5dd06d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77e0cb5927be068b1888e331dfd893da"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_agora_conversation.html#a77e0cb5927be068b1888e331dfd893da">markAllMessagesAsRead:</a></td></tr>
<tr class="separator:a77e0cb5927be068b1888e331dfd893da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9ebec13ad55522201c6eb0fc29eb084"><td class="memItemLeft" align="right" valign="top">(<a class="el" href="interface_message.html">Message</a> *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_agora_conversation.html#af9ebec13ad55522201c6eb0fc29eb084">loadMessageWithId:error:</a></td></tr>
<tr class="separator:af9ebec13ad55522201c6eb0fc29eb084"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c565bb7b13faa6f77042f869355d96e"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_agora_conversation.html#a9c565bb7b13faa6f77042f869355d96e">loadMessagesStartFromId:count:searchDirection:completion:</a></td></tr>
<tr class="separator:a9c565bb7b13faa6f77042f869355d96e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6be7247d3e2a0b8cc291070c6076d5c"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_agora_conversation.html#ac6be7247d3e2a0b8cc291070c6076d5c">loadMessagesWithType:timestamp:count:fromUser:searchDirection:completion:</a></td></tr>
<tr class="separator:ac6be7247d3e2a0b8cc291070c6076d5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ba1a55f495c7d6330b1b541a00c2e10"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_agora_conversation.html#a3ba1a55f495c7d6330b1b541a00c2e10">loadMessagesWithKeyword:timestamp:count:fromUser:searchDirection:completion:</a></td></tr>
<tr class="separator:a3ba1a55f495c7d6330b1b541a00c2e10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac30f339f92b669f1e48f159fb1e23bad"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_agora_conversation.html#ac30f339f92b669f1e48f159fb1e23bad">loadCustomMsgWithKeyword:timestamp:count:fromUser:searchDirection:completion:</a></td></tr>
<tr class="separator:ac30f339f92b669f1e48f159fb1e23bad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58c6b5c5d3fe00186eec3919e18b9fd5"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_agora_conversation.html#a58c6b5c5d3fe00186eec3919e18b9fd5">loadMessagesFrom:to:count:completion:</a></td></tr>
<tr class="separator:a58c6b5c5d3fe00186eec3919e18b9fd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af904acd9f630306a551627bfe04bde8e"><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_agora_conversation.html#af904acd9f630306a551627bfe04bde8e">insertMessage:</a></td></tr>
<tr class="separator:af904acd9f630306a551627bfe04bde8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14625b6ca9b2eae4667a7c7d21e6f1e4"><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_agora_conversation.html#a14625b6ca9b2eae4667a7c7d21e6f1e4">appendMessage:</a></td></tr>
<tr class="separator:a14625b6ca9b2eae4667a7c7d21e6f1e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a392fb65c1575c44092dbef024cc85f34"><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_agora_conversation.html#a392fb65c1575c44092dbef024cc85f34">deleteMessageWithId:</a></td></tr>
<tr class="separator:a392fb65c1575c44092dbef024cc85f34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a468a0fcdeaa476da3b808a4e88df9376"><td class="memItemLeft" align="right" valign="top">(&quot;Use -<a class="el" href="interface_agora_conversation.html#a3d9c1ffd9c70feaa5563c51e73fe8610">deleteAllMessages:</a> instead&quot;)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_agora_conversation.html#a468a0fcdeaa476da3b808a4e88df9376">__deprecated_msg</a></td></tr>
<tr class="separator:a468a0fcdeaa476da3b808a4e88df9376"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5861f6e994c3ce89c424ad95ca2958ed"><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_agora_conversation.html#a5861f6e994c3ce89c424ad95ca2958ed">updateMessage:</a></td></tr>
<tr class="separator:a5861f6e994c3ce89c424ad95ca2958ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95450003cdb0cf109c2782fbec6d3b85"><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_agora_conversation.html#a95450003cdb0cf109c2782fbec6d3b85">markMessageAsReadWithId:</a></td></tr>
<tr class="separator:a95450003cdb0cf109c2782fbec6d3b85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e55043a696b1ae24b15c25f4dd85fb4"><td class="memItemLeft" align="right" valign="top">(&quot;Use -<a class="el" href="interface_agora_conversation.html#a77e0cb5927be068b1888e331dfd893da">markAllMessagesAsRead:</a> instead&quot;)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_agora_conversation.html#a2e55043a696b1ae24b15c25f4dd85fb4">__deprecated_msg</a></td></tr>
<tr class="separator:a2e55043a696b1ae24b15c25f4dd85fb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7959907163b7ab742afb51e46139d84"><td class="memItemLeft" align="right" valign="top">(&quot;setExt: will update extend properties to DB&quot;)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_agora_conversation.html#ac7959907163b7ab742afb51e46139d84">__deprecated_msg</a></td></tr>
<tr class="separator:ac7959907163b7ab742afb51e46139d84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c0222976f480c4dd31a43b2c2ed49ae"><td class="memItemLeft" align="right" valign="top">(<a class="el" href="interface_message.html">Message</a> *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_agora_conversation.html#a1c0222976f480c4dd31a43b2c2ed49ae">loadMessageWithId:</a></td></tr>
<tr class="separator:a1c0222976f480c4dd31a43b2c2ed49ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af40f6960eb97a57b5d6395aad00aa040"><td class="memItemLeft" align="right" valign="top">(NSArray *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_agora_conversation.html#af40f6960eb97a57b5d6395aad00aa040">loadMoreMessagesFromId:limit:direction:</a></td></tr>
<tr class="separator:af40f6960eb97a57b5d6395aad00aa040"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bbc301d96bd562040548f5bcb233f06"><td class="memItemLeft" align="right" valign="top">(NSArray *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_agora_conversation.html#a9bbc301d96bd562040548f5bcb233f06">loadMoreMessagesWithType:before:limit:from:direction:</a></td></tr>
<tr class="separator:a9bbc301d96bd562040548f5bcb233f06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3667a0c69a53a65bbdb796d7a4e35148"><td class="memItemLeft" align="right" valign="top">(NSArray *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_agora_conversation.html#a3667a0c69a53a65bbdb796d7a4e35148">loadMoreMessagesContain:before:limit:from:direction:</a></td></tr>
<tr class="separator:a3667a0c69a53a65bbdb796d7a4e35148"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca5981a906d1881e84d6c5885e38f47e"><td class="memItemLeft" align="right" valign="top">(NSArray *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_agora_conversation.html#aca5981a906d1881e84d6c5885e38f47e">loadMoreMessagesFrom:to:maxCount:</a></td></tr>
<tr class="separator:aca5981a906d1881e84d6c5885e38f47e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec3ce262e2366195a7571e185c504312"><td class="memItemLeft" align="right" valign="top">(&quot;Use -<a class="el" href="interface_agora_conversation.html#a41980a87b606c8a24d28e824b7bc7426">lastReceivedMessage</a> instead&quot;)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_agora_conversation.html#aec3ce262e2366195a7571e185c504312">__deprecated_msg</a></td></tr>
<tr class="separator:aec3ce262e2366195a7571e185c504312"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="properties"></a>
Properties</h2></td></tr>
<tr class="memitem:a70842b8fa097b652a87d34bac522cfe0"><td class="memItemLeft" align="right" valign="top">NSString *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_agora_conversation.html#a70842b8fa097b652a87d34bac522cfe0">conversationId</a></td></tr>
<tr class="separator:a70842b8fa097b652a87d34bac522cfe0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7d90dda1f1886f531a6d922e6834109"><td class="memItemLeft" align="right" valign="top">AgoraConversationType&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_agora_conversation.html#ab7d90dda1f1886f531a6d922e6834109">type</a></td></tr>
<tr class="separator:ab7d90dda1f1886f531a6d922e6834109"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac55b6fc6290691b762f9c32193825626"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_agora_conversation.html#ac55b6fc6290691b762f9c32193825626">unreadMessagesCount</a></td></tr>
<tr class="separator:ac55b6fc6290691b762f9c32193825626"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89f43c3423b5a5dc8908ea471c1ff512"><td class="memItemLeft" align="right" valign="top">NSDictionary *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_agora_conversation.html#a89f43c3423b5a5dc8908ea471c1ff512">ext</a></td></tr>
<tr class="separator:a89f43c3423b5a5dc8908ea471c1ff512"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a747eb75956e25dcfa2c2eb3c5427558f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="interface_message.html">Message</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_agora_conversation.html#a747eb75956e25dcfa2c2eb3c5427558f">latestMessage</a></td></tr>
<tr class="separator:a747eb75956e25dcfa2c2eb3c5427558f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Chat conversation </p>
</div><h2 class="groupheader">Method Documentation</h2>
<a class="anchor" id="a468a0fcdeaa476da3b808a4e88df9376"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (&quot;Use -)<a class="el" href="interface_agora_conversation.html#a3d9c1ffd9c70feaa5563c51e73fe8610">deleteAllMessages:</a> </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Delete all message of the conversation</p>
<dl class="section return"><dt>Returns</dt><dd>Delete result, YES: mean success, NO: mean failure. </dd></dl>

</div>
</div>
<a class="anchor" id="a2e55043a696b1ae24b15c25f4dd85fb4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (&quot;Use -)<a class="el" href="interface_agora_conversation.html#a77e0cb5927be068b1888e331dfd893da">markAllMessagesAsRead:</a> </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Mark all message as read</p>
<dl class="section return"><dt>Returns</dt><dd>Result of mark all message as read, YES: mean success, NO: mean failure. </dd></dl>

</div>
</div>
<a class="anchor" id="ac7959907163b7ab742afb51e46139d84"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- &quot;setExt: </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Update conversation extend properties to DB</p>
<dl class="section return"><dt>Returns</dt><dd>Extend properties update result, YES: mean success, NO: mean failure. </dd></dl>

</div>
</div>
<a class="anchor" id="aec3ce262e2366195a7571e185c504312"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (&quot;Use -<a class="el" href="interface_agora_conversation.html#a41980a87b606c8a24d28e824b7bc7426">lastReceivedMessage</a> instead&quot;) __deprecated_msg </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get latest message that received from others</p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="interface_message.html">Message</a> instance </dd></dl>

</div>
</div>
<a class="anchor" id="a14625b6ca9b2eae4667a7c7d21e6f1e4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) appendMessage: </td>
          <td></td>
          <td class="paramtype">(&quot;Use -<a class="el" href="interface_agora_conversation.html#a702888246745cacf4700e0938e9ca2b7">appendMessage:error:</a> instead&quot;)&#160;</td>
          <td class="paramname"><em>__deprecated_msg</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Insert a message to the tail of conversation, message's conversationId should equle to conversation's conversationId, message will be inserted to DB, and update conversation's property</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aMessage</td><td><a class="el" href="interface_message.html">Message</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="interface_message.html">Message</a> insert result, YES: mean success, NO: mean failure. </dd></dl>

</div>
</div>
<a class="anchor" id="a702888246745cacf4700e0938e9ca2b7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) <a class="el" href="interface_agora_conversation.html#a14625b6ca9b2eae4667a7c7d21e6f1e4">appendMessage:</a> </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_message.html">Message</a> *)&#160;</td>
          <td class="paramname"><em>aMessage</em></td>
        </tr>
        <tr>
          <td class="paramkey">error:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_agora_error.html">AgoraError</a> **)&#160;</td>
          <td class="paramname"><em>pError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Insert a message to the end of a conversation in local database. ConversationId of the message should be the same as conversationId of the conversation in order to insert the message into the conversation correctly.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aMessage</td><td><a class="el" href="interface_message.html">Message</a> </td></tr>
    <tr><td class="paramname">pError</td><td>Error </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3d9c1ffd9c70feaa5563c51e73fe8610"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) deleteAllMessages: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_agora_error.html">AgoraError</a> **)&#160;</td>
          <td class="paramname"><em>pError</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Delete all messages of the conversation from memory cache and local database</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pError</td><td>Error </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a392fb65c1575c44092dbef024cc85f34"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) deleteMessageWithId: </td>
          <td></td>
          <td class="paramtype">(&quot;Use -<a class="el" href="interface_agora_conversation.html#af11ed445691665bf7f5ffb8eda971ad2">deleteMessageWithId:error:</a> instead&quot;)&#160;</td>
          <td class="paramname"><em>__deprecated_msg</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Delete a message</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aMessageId</td><td><a class="el" href="interface_message.html">Message</a>'s ID who will be deleted</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="interface_message.html">Message</a> delete result, YES: mean success, NO: mean failure. </dd></dl>

</div>
</div>
<a class="anchor" id="af11ed445691665bf7f5ffb8eda971ad2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) <a class="el" href="interface_agora_conversation.html#a392fb65c1575c44092dbef024cc85f34">deleteMessageWithId:</a> </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>aMessageId</em></td>
        </tr>
        <tr>
          <td class="paramkey">error:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_agora_error.html">AgoraError</a> **)&#160;</td>
          <td class="paramname"><em>pError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Delete a message</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aMessageId</td><td>Id of the message to be deleted </td></tr>
    <tr><td class="paramname">pError</td><td>Error </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af904acd9f630306a551627bfe04bde8e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) insertMessage: </td>
          <td></td>
          <td class="paramtype">(&quot;Use -<a class="el" href="interface_agora_conversation.html#ad06925ecb77ee92b04c5217e88a7fd10">insertMessage:error:</a> instead&quot;)&#160;</td>
          <td class="paramname"><em>__deprecated_msg</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Insert a message to a conversation. ConversationId of the message should be the same as conversationId of the conversation in order to insert the message into the conversation correctly.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aMessage</td><td><a class="el" href="interface_message.html">Message</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="interface_message.html">Message</a> insert result, YES: mean success, NO: mean failure. </dd></dl>

</div>
</div>
<a class="anchor" id="ad06925ecb77ee92b04c5217e88a7fd10"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) <a class="el" href="interface_agora_conversation.html#af904acd9f630306a551627bfe04bde8e">insertMessage:</a> </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_message.html">Message</a> *)&#160;</td>
          <td class="paramname"><em>aMessage</em></td>
        </tr>
        <tr>
          <td class="paramkey">error:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_agora_error.html">AgoraError</a> **)&#160;</td>
          <td class="paramname"><em>pError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Insert a message to a conversation in local database and SDK will update the last message automatically ConversationId of the message should be the same as conversationId of the conversation in order to insert the message into the conversation correctly. The inserting message will be inserted based on timestamp. Method <a class="el" href="interface_agora_conversation.html">AgoraConversation</a> insertMessage:error: = AgoraChatManager importMsessage:completion: + update conversation latest message</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aMessage</td><td><a class="el" href="interface_message.html">Message</a> </td></tr>
    <tr><td class="paramname">pError</td><td>Error </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a41980a87b606c8a24d28e824b7bc7426"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (<a class="el" href="interface_message.html">Message</a> *) lastReceivedMessage </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get last received message</p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="interface_message.html">Message</a> instance </dd></dl>

</div>
</div>
<a class="anchor" id="ac30f339f92b669f1e48f159fb1e23bad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) loadCustomMsgWithKeyword: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>aKeyword</em></td>
        </tr>
        <tr>
          <td class="paramkey">timestamp:</td>
          <td></td>
          <td class="paramtype">(long long)&#160;</td>
          <td class="paramname"><em>aTimestamp</em></td>
        </tr>
        <tr>
          <td class="paramkey">count:</td>
          <td></td>
          <td class="paramtype">(int)&#160;</td>
          <td class="paramname"><em>aCount</em></td>
        </tr>
        <tr>
          <td class="paramkey">fromUser:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>aSender</em></td>
        </tr>
        <tr>
          <td class="paramkey">searchDirection:</td>
          <td></td>
          <td class="paramtype">(MessageSearchDirection)&#160;</td>
          <td class="paramname"><em>aDirection</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(void(^)(NSArray *aMessages, <a class="el" href="interface_agora_error.html">AgoraError</a> *aError))&#160;</td>
          <td class="paramname"><em>aCompletionBlock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Load custom messages with specified keyword from local database,returning messages are sorted by receiving timestamp based on MessageSearchDirection. If reference timestamp is negative, load from the latest messages; if message count is negative, will be handled as count=1</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aKeyword</td><td>Search keyword. aKeyword=nil to ignore </td></tr>
    <tr><td class="paramname">aTimestamp</td><td>load based on reference timestamp. If aTimestamp=-1, will load from the most recent (the latest) message </td></tr>
    <tr><td class="paramname">aCount</td><td>Max number of messages to load </td></tr>
    <tr><td class="paramname">aSender</td><td><a class="el" href="interface_message.html">Message</a> sender (optional). Pass nil to ignore </td></tr>
    <tr><td class="paramname">aDirection</td><td><a class="el" href="interface_message.html">Message</a> search direction MessageSearchDirectionUp: get aCount of messages before aMessageId; MessageSearchDirectionDown: get aCount of messages after aMessageId * -&mdash; </td></tr>
    <tr><td class="paramname">aCompletionBlock</td><td>The callback of completion block </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a58c6b5c5d3fe00186eec3919e18b9fd5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) loadMessagesFrom: </td>
          <td></td>
          <td class="paramtype">(long long)&#160;</td>
          <td class="paramname"><em>aStartTimestamp</em></td>
        </tr>
        <tr>
          <td class="paramkey">to:</td>
          <td></td>
          <td class="paramtype">(long long)&#160;</td>
          <td class="paramname"><em>aEndTimestamp</em></td>
        </tr>
        <tr>
          <td class="paramkey">count:</td>
          <td></td>
          <td class="paramtype">(int)&#160;</td>
          <td class="paramname"><em>aCount</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(void(^)(NSArray *aMessages, <a class="el" href="interface_agora_error.html">AgoraError</a> *aError))&#160;</td>
          <td class="paramname"><em>aCompletionBlock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Load messages within specified time range from local database. Returning messages are sorted by sending timestamp</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aStartTimestamp</td><td>Starting timestamp in miliseconds </td></tr>
    <tr><td class="paramname">aEndTimestamp</td><td>Ending timestamp in miliseconds </td></tr>
    <tr><td class="paramname">aCount</td><td>Max number of messages to load </td></tr>
    <tr><td class="paramname">aCompletionBlock</td><td>The callback of completion block </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9c565bb7b13faa6f77042f869355d96e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) loadMessagesStartFromId: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>aMessageId</em></td>
        </tr>
        <tr>
          <td class="paramkey">count:</td>
          <td></td>
          <td class="paramtype">(int)&#160;</td>
          <td class="paramname"><em>aCount</em></td>
        </tr>
        <tr>
          <td class="paramkey">searchDirection:</td>
          <td></td>
          <td class="paramtype">(MessageSearchDirection)&#160;</td>
          <td class="paramname"><em>aDirection</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(void(^)(NSArray *aMessages, <a class="el" href="interface_agora_error.html">AgoraError</a> *aError))&#160;</td>
          <td class="paramname"><em>aCompletionBlock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Load messages starting from the specified message id from local database. Returning messages are sorted by receiving timestamp based on MessageSearchDirection. If the aMessageId is nil, will return starting from the latest message</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aMessageId</td><td>Start loading messages from the specified message id </td></tr>
    <tr><td class="paramname">aCount</td><td>Max number of messages to load </td></tr>
    <tr><td class="paramname">aDirection</td><td><a class="el" href="interface_message.html">Message</a> search direction. MessageSearchDirectionUp: get aCount of messages before aMessageId; MessageSearchDirectionDown: get aCount of messages after aMessageId </td></tr>
    <tr><td class="paramname">aCompletionBlock</td><td>The callback of completion block </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3ba1a55f495c7d6330b1b541a00c2e10"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) loadMessagesWithKeyword: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>aKeyword</em></td>
        </tr>
        <tr>
          <td class="paramkey">timestamp:</td>
          <td></td>
          <td class="paramtype">(long long)&#160;</td>
          <td class="paramname"><em>aTimestamp</em></td>
        </tr>
        <tr>
          <td class="paramkey">count:</td>
          <td></td>
          <td class="paramtype">(int)&#160;</td>
          <td class="paramname"><em>aCount</em></td>
        </tr>
        <tr>
          <td class="paramkey">fromUser:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>aSender</em></td>
        </tr>
        <tr>
          <td class="paramkey">searchDirection:</td>
          <td></td>
          <td class="paramtype">(MessageSearchDirection)&#160;</td>
          <td class="paramname"><em>aDirection</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(void(^)(NSArray *aMessages, <a class="el" href="interface_agora_error.html">AgoraError</a> *aError))&#160;</td>
          <td class="paramname"><em>aCompletionBlock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Load messages with specified keyword from local database, returning messages are sorted by receiving timestamp based on MessageSearchDirection. If reference timestamp is negative, load from the latest messages; if message count is negative, will be handled as count=1</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aKeyword</td><td>Search keyword. aKeyword=nil to ignore </td></tr>
    <tr><td class="paramname">aTimestamp</td><td>load based on reference timestamp. If aTimestamp=-1, will load from the most recent (the latest) message </td></tr>
    <tr><td class="paramname">aCount</td><td>Max number of messages to load </td></tr>
    <tr><td class="paramname">aSender</td><td><a class="el" href="interface_message.html">Message</a> sender (optional). Pass nil to ignore </td></tr>
    <tr><td class="paramname">aDirection</td><td><a class="el" href="interface_message.html">Message</a> search direction MessageSearchDirectionUp: get aCount of messages before aMessageId; MessageSearchDirectionDown: get aCount of messages after aMessageId * -&mdash; </td></tr>
    <tr><td class="paramname">aCompletionBlock</td><td>The callback of completion block </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac6be7247d3e2a0b8cc291070c6076d5c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) loadMessagesWithType: </td>
          <td></td>
          <td class="paramtype">(MessageBodyType)&#160;</td>
          <td class="paramname"><em>aType</em></td>
        </tr>
        <tr>
          <td class="paramkey">timestamp:</td>
          <td></td>
          <td class="paramtype">(long long)&#160;</td>
          <td class="paramname"><em>aTimestamp</em></td>
        </tr>
        <tr>
          <td class="paramkey">count:</td>
          <td></td>
          <td class="paramtype">(int)&#160;</td>
          <td class="paramname"><em>aCount</em></td>
        </tr>
        <tr>
          <td class="paramkey">fromUser:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>aUsername</em></td>
        </tr>
        <tr>
          <td class="paramkey">searchDirection:</td>
          <td></td>
          <td class="paramtype">(MessageSearchDirection)&#160;</td>
          <td class="paramname"><em>aDirection</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(void(^)(NSArray *aMessages, <a class="el" href="interface_agora_error.html">AgoraError</a> *aError))&#160;</td>
          <td class="paramname"><em>aCompletionBlock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Load messages with specified message type from local database. Returning messages are sorted by receiving timestamp based on MessageSearchDirection.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aType</td><td><a class="el" href="interface_message.html">Message</a> type to load </td></tr>
    <tr><td class="paramname">aTimestamp</td><td>load based on reference timestamp. If aTimestamp=-1, will load from the most recent (the latest) message </td></tr>
    <tr><td class="paramname">aCount</td><td>Max number of messages to load. if aCount&lt;0, will be handled as count=1 </td></tr>
    <tr><td class="paramname">aUsername</td><td><a class="el" href="interface_message.html">Message</a> sender (optional). Use aUsername=nil to ignore </td></tr>
    <tr><td class="paramname">aDirection</td><td><a class="el" href="interface_message.html">Message</a> search direction MessageSearchDirectionUp: get aCount of messages before aMessageId; MessageSearchDirectionDown: get aCount of messages after aMessageId </td></tr>
    <tr><td class="paramname">aCompletionBlock</td><td>The callback of completion block </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a1c0222976f480c4dd31a43b2c2ed49ae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (<a class="el" href="interface_message.html">Message</a> *) loadMessageWithId: </td>
          <td></td>
          <td class="paramtype">(&quot;Use -<a class="el" href="interface_agora_conversation.html#af9ebec13ad55522201c6eb0fc29eb084">loadMessageWithId:error:</a> instead&quot;)&#160;</td>
          <td class="paramname"><em>__deprecated_msg</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get a message with the ID</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aMessageId</td><td><a class="el" href="interface_message.html">Message</a>'s id</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="interface_message.html">Message</a> instance </dd></dl>

</div>
</div>
<a class="anchor" id="af9ebec13ad55522201c6eb0fc29eb084"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (<a class="el" href="interface_message.html">Message</a> *) <a class="el" href="interface_agora_conversation.html#a1c0222976f480c4dd31a43b2c2ed49ae">loadMessageWithId:</a> </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>aMessageId</em></td>
        </tr>
        <tr>
          <td class="paramkey">error:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_agora_error.html">AgoraError</a> **)&#160;</td>
          <td class="paramname"><em>pError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get a message with the ID</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aMessageId</td><td>MessageID </td></tr>
    <tr><td class="paramname">pError</td><td>Error </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3667a0c69a53a65bbdb796d7a4e35148"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSArray *) loadMoreMessagesContain: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>aKeywords</em></td>
        </tr>
        <tr>
          <td class="paramkey">before:</td>
          <td></td>
          <td class="paramtype">(long long)&#160;</td>
          <td class="paramname"><em>aTimestamp</em></td>
        </tr>
        <tr>
          <td class="paramkey">limit:</td>
          <td></td>
          <td class="paramtype">(int)&#160;</td>
          <td class="paramname"><em>aLimit</em></td>
        </tr>
        <tr>
          <td class="paramkey">from:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>aSender</em></td>
        </tr>
        <tr>
          <td class="paramkey">direction:</td>
          <td></td>
          <td class="paramtype">(&quot;Use -loadMessagesContainKeywords:timestamp:count:fromUser:searchDirection:completion: instead&quot;)&#160;</td>
          <td class="paramname"><em>__deprecated_msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get more messages contain specified keywords from DB, result messages are sorted by received time, if reference timestamp is negative, will fetch message from latest message, andd will fetch all messages that meet the condition if aLimit is negative</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aKeywords</td><td>Search content, will ignore it if it's empty </td></tr>
    <tr><td class="paramname">aTimestamp</td><td>Reference timestamp </td></tr>
    <tr><td class="paramname">aLimit</td><td>Count of messages to load </td></tr>
    <tr><td class="paramname">aSender</td><td><a class="el" href="interface_message.html">Message</a> sender, will ignore it if it's empty </td></tr>
    <tr><td class="paramname">aDirection</td><td><a class="el" href="interface_message.html">Message</a> search direction</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="interface_message.html">Message</a> NSArray&lt;Message&gt; </dd></dl>

</div>
</div>
<a class="anchor" id="aca5981a906d1881e84d6c5885e38f47e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSArray *) loadMoreMessagesFrom: </td>
          <td></td>
          <td class="paramtype">(long long)&#160;</td>
          <td class="paramname"><em>aStartTimestamp</em></td>
        </tr>
        <tr>
          <td class="paramkey">to:</td>
          <td></td>
          <td class="paramtype">(long long)&#160;</td>
          <td class="paramname"><em>aEndTimestamp</em></td>
        </tr>
        <tr>
          <td class="paramkey">maxCount:</td>
          <td></td>
          <td class="paramtype">(&quot;Use -<a class="el" href="interface_agora_conversation.html#a58c6b5c5d3fe00186eec3919e18b9fd5">loadMessagesFrom:to:count:completion:</a> instead&quot;)&#160;</td>
          <td class="paramname"><em>__deprecated_msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Load messages from DB in duration, result messages are sorted by receive time, user should limit the max count to load to avoid memory issue</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aStartTimestamp</td><td>Start time's timestamp in miliseconds </td></tr>
    <tr><td class="paramname">aEndTimestamp</td><td>End time's timestamp in miliseconds </td></tr>
    <tr><td class="paramname">aMaxCount</td><td><a class="el" href="interface_message.html">Message</a> search direction</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="interface_message.html">Message</a> NSArray&lt;Message&gt; </dd></dl>

</div>
</div>
<a class="anchor" id="af40f6960eb97a57b5d6395aad00aa040"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSArray *) loadMoreMessagesFromId: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>aMessageId</em></td>
        </tr>
        <tr>
          <td class="paramkey">limit:</td>
          <td></td>
          <td class="paramtype">(int)&#160;</td>
          <td class="paramname"><em>aLimit</em></td>
        </tr>
        <tr>
          <td class="paramkey">direction:</td>
          <td></td>
          <td class="paramtype">(&quot;Use -<a class="el" href="interface_agora_conversation.html#a9c565bb7b13faa6f77042f869355d96e">loadMessagesStartFromId:count:searchDirection:completion:</a> instead&quot;)&#160;</td>
          <td class="paramname"><em>__deprecated_msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get more messages from DB, result messages are sorted by receive time, and NOT include the reference message, if reference messag's ID is nil, will fetch message from latest message</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aMessageId</td><td>Reference message's ID </td></tr>
    <tr><td class="paramname">aLimit</td><td>Count of messages to load </td></tr>
    <tr><td class="paramname">aDirection</td><td><a class="el" href="interface_message.html">Message</a> search direction</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="interface_message.html">Message</a> NSArray&lt;Message&gt; </dd></dl>

</div>
</div>
<a class="anchor" id="a9bbc301d96bd562040548f5bcb233f06"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSArray *) loadMoreMessagesWithType: </td>
          <td></td>
          <td class="paramtype">(MessageBodyType)&#160;</td>
          <td class="paramname"><em>aType</em></td>
        </tr>
        <tr>
          <td class="paramkey">before:</td>
          <td></td>
          <td class="paramtype">(long long)&#160;</td>
          <td class="paramname"><em>aTimestamp</em></td>
        </tr>
        <tr>
          <td class="paramkey">limit:</td>
          <td></td>
          <td class="paramtype">(int)&#160;</td>
          <td class="paramname"><em>aLimit</em></td>
        </tr>
        <tr>
          <td class="paramkey">from:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>aSender</em></td>
        </tr>
        <tr>
          <td class="paramkey">direction:</td>
          <td></td>
          <td class="paramtype">(&quot;Use -<a class="el" href="interface_agora_conversation.html#ac6be7247d3e2a0b8cc291070c6076d5c">loadMessagesWithType:timestamp:count:fromUser:searchDirection:completion:</a> instead&quot;)&#160;</td>
          <td class="paramname"><em>__deprecated_msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get more messages with specified type from DB, result messages are sorted by received time, if reference timestamp is negative, will fetch message from latest message, andd will fetch all messages that meet the condition if aLimit is negative</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aType</td><td><a class="el" href="interface_message.html">Message</a> type to load </td></tr>
    <tr><td class="paramname">aTimestamp</td><td>Reference timestamp </td></tr>
    <tr><td class="paramname">aLimit</td><td>Count of messages to load </td></tr>
    <tr><td class="paramname">aSender</td><td><a class="el" href="interface_message.html">Message</a> sender, will ignore it if it's empty </td></tr>
    <tr><td class="paramname">aDirection</td><td><a class="el" href="interface_message.html">Message</a> search direction</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="interface_message.html">Message</a> NSArray&lt;Message&gt; </dd></dl>

</div>
</div>
<a class="anchor" id="a77e0cb5927be068b1888e331dfd893da"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) markAllMessagesAsRead: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_agora_error.html">AgoraError</a> **)&#160;</td>
          <td class="paramname"><em>pError</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Mark all messages as read</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pError</td><td>Error </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a95450003cdb0cf109c2782fbec6d3b85"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) markMessageAsReadWithId: </td>
          <td></td>
          <td class="paramtype">(&quot;Use -<a class="el" href="interface_agora_conversation.html#ad22548f7bdbc1fc7da2f7fe6f5dd06d0">markMessageAsReadWithId:error:</a> instead&quot;)&#160;</td>
          <td class="paramname"><em>__deprecated_msg</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Mark a message as read</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aMessageId</td><td><a class="el" href="interface_message.html">Message</a>'s ID who will be set read status</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Result of mark message as read, YES: mean success, NO: mean failure. </dd></dl>

</div>
</div>
<a class="anchor" id="ad22548f7bdbc1fc7da2f7fe6f5dd06d0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) <a class="el" href="interface_agora_conversation.html#a95450003cdb0cf109c2782fbec6d3b85">markMessageAsReadWithId:</a> </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>aMessageId</em></td>
        </tr>
        <tr>
          <td class="paramkey">error:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_agora_error.html">AgoraError</a> **)&#160;</td>
          <td class="paramname"><em>pError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Mark a message as read</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aMessageId</td><td>MessageID </td></tr>
    <tr><td class="paramname">pError</td><td>Error </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a5861f6e994c3ce89c424ad95ca2958ed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) updateMessage: </td>
          <td></td>
          <td class="paramtype">(&quot;Use -<a class="el" href="interface_agora_conversation.html#a829edbd42b108d45dabb7713fec0c497">updateMessageChange:error:</a> instead&quot;)&#160;</td>
          <td class="paramname"><em>__deprecated_msg</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Update a message, can't update message's messageId, conversation's latestMessage and so on properties will update after update the message</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aMessage</td><td><a class="el" href="interface_message.html">Message</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="interface_message.html">Message</a> update result, YES: mean success, NO: mean failure. </dd></dl>

</div>
</div>
<a class="anchor" id="a829edbd42b108d45dabb7713fec0c497"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) updateMessageChange: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_message.html">Message</a> *)&#160;</td>
          <td class="paramname"><em>aMessage</em></td>
        </tr>
        <tr>
          <td class="paramkey">error:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_agora_error.html">AgoraError</a> **)&#160;</td>
          <td class="paramname"><em>pError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Use this method to update a message in local database. Changing properties will affect data in database LatestMessage of the conversation and other properties will be updated accordingly. messageId of the message cannot be updated</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aMessage</td><td><a class="el" href="interface_message.html">Message</a> </td></tr>
    <tr><td class="paramname">pError</td><td>Error </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Property Documentation</h2>
<a class="anchor" id="a70842b8fa097b652a87d34bac522cfe0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (NSString*) conversationId</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">nonatomic</span><span class="mlabel">copy</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>conversation ID For single chatconversation ID is to chat user's name For group chat, conversation ID is groupID(), different with getGroupName() For chat room, conversation ID is chatroom ID, different with chat room name() For help desk, it is same with single chat, conversationID is also chat user's name </p>

</div>
</div>
<a class="anchor" id="a89f43c3423b5a5dc8908ea471c1ff512"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (NSDictionary*) ext</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">write</span><span class="mlabel">nonatomic</span><span class="mlabel">copy</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Conversation extension property </p>

</div>
</div>
<a class="anchor" id="a747eb75956e25dcfa2c2eb3c5427558f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (<a class="el" href="interface_message.html">Message</a>*) latestMessage</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">nonatomic</span><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Conversation latest message </p>

</div>
</div>
<a class="anchor" id="ab7d90dda1f1886f531a6d922e6834109"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (AgoraConversationType) type</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">nonatomic</span><span class="mlabel">assign</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Conversation type </p>

</div>
</div>
<a class="anchor" id="ac55b6fc6290691b762f9c32193825626"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (int) unreadMessagesCount</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">nonatomic</span><span class="mlabel">assign</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Unread message count </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>AgoraChat.framework/Headers/<a class="el" href="_agora_conversation_8h_source.html">AgoraConversation.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
